---
version: "1.22.1"
date: "2025-12-28"
type: "patch"
title: "Permission Fixes & Code Cleanup"
description: "Fixed feedback comment permissions, crew request delete permissions, and removed duplicate release notes files"
---

# What's New in Version 1.22.1

**Released:** December 28, 2025

---

## üêõ Bug Fixes

### Feedback Comment Permissions Fixed

**Issue:** Users couldn't respond to admin comments on their own feedback submissions.

**Fixed:**
- Feedback submitters can now add comments to their own feedback items
- Admins (ADMIN/SUPER_ADMIN) can respond to any feedback
- READ_ONLY_ADMIN users cannot add comments (view only)
- Permission system now based on system roles only (not organizational roles)

**Impact:** Enables proper two-way communication in the feedback system.

---

### Crew Request Delete Permission Fixed

**Issue:** Personnel Support (PC-Support) role users couldn't delete crew requests.

**Fixed:**
- Corrected role code from `PC_SUPPORT` to `PC-Support` (hyphen instead of underscore)
- Personnel Contact roles (PC, PCA, PC-Support) can now delete crew requests as intended

**Impact:** Personnel Support users can properly manage crew requests.

---

### Release Notes Display Fixed

**Issue:** v1.22.0 release notes weren't showing on the /release-notes page.

**Fixed:**
- Added proper frontmatter metadata to v1.22.0 release notes file
- Copied release notes to correct directory (`frontend/release-notes/`)
- v1.22.0 now displays correctly on release notes page

**Impact:** Users can see the latest release information.

---

## üßπ Code Cleanup

### Removed Duplicate Release Notes Files

**What was removed:**
- Duplicate `/release-notes/` directory (root level)
- Unused `/frontend/RELEASE_NOTES.md` file

**What remains:**
- `/RELEASE_NOTES.md` (root) - Used by release banner
- `/frontend/release-notes/*.md` - Used by release notes page

**Impact:** Cleaner codebase, no confusion from duplicate files.

---

## üìù Technical Details

**Files Modified:**
- `frontend/src/app/api/v1/admin/feedback/[id]/comment/route.ts` - Updated permission logic
- `frontend/src/app/api/v1/crew-requests/[id]/route.ts` - Fixed role code
- `frontend/release-notes/v1.22.0.md` - Added frontmatter
- `frontend/package.json` - Version bump to 1.22.1

**Files Removed:**
- `/release-notes/` directory (3 files)
- `/frontend/RELEASE_NOTES.md`

---

## üí° What You Need to Know

**No action required!** These are behind-the-scenes fixes that improve functionality.

**What's fixed:**
- You can now respond to admin comments on your feedback
- Personnel Support can delete crew requests
- Release notes display correctly

---

## üìû Need Help?

- Check the **Help Center** in the app (menu ‚Üí Help)
- Send feedback using the **Send Feedback** button
- Contact your Personnel Contact or system administrator

---

**Thank you for using LDC Tools!**

We're committed to making your Construction Group coordination easier and more efficient.
